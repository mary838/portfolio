(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{78948:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Y},default:function(){return O}});var r=n(80318),i=n(92809),o=n(67294),l=n(83484),s=n(80729),a=n(58952),c=n(11163),u=n(83789),d=n(78633),m=n(49851),f=n.n(m),h=n(85893);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.children,n=e.setSci,r=e.arrorColor,i=e.autoScroll,l=void 0===i||i,s=(0,o.useRef)(),a=(0,o.useRef)({wrapper:null,slides:[],click:!1,startX:0,startY:0,mtX:0,mtY:0,bx:0,by:[],sx:0,sy:[],sd:null,flickingTime:null,inputbreak:!1,scrollYTimer:null,now:null,then:Date.now(),interval:1e3/60,delta:null,animationId:null,easeSpeed:.07}).current,c=(0,o.useState)({c:0,t:null}),m=c[0],p=c[1],y=(0,o.useState)([]),v=y[0],_=y[1],g=(0,o.useState)("100vh"),x=g[0],w=g[1];function S(e){autoScrollY(!0),-1===e&&a.bx<0?a.bx+=100:a.bx>-100*a.slides.length+100&&(a.bx+=-100),p((function(t){return b(b({},t),{},{c:t.c+e})}))}return(0,o.useEffect)((function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.scrollYTimer&&(clearInterval(a.scrollYTimer),a.scrollYTimer=null,!e)||null===a.scrollYTimer&&(a.scrollYTimer=setInterval((function(){var e=Math.abs(a.bx)/100,t=a.slides[e].querySelectorAll(".MLS_slide_column").length?-100*a.slides[e].querySelectorAll(".MLS_slide_column").length+100:0;a.by[e]>t?a.by[e]+=-100:a.by[e]=0,_((function(t){var n=(0,u.Z)(t);return n[e]=Math.abs(a.by[e])/100,n}))}),5e3))}function t(t){switch(t.type){case"pointerdown":t.preventDefault(),function(t){a.scrollYTimer&&e();a.click=!0,a.startX=t.clientX/window.innerWidth*100,a.startY=t.clientY/window.innerHeight*100,a.flickingTime=(new Date).getTime()}(t,t.pointerType);break;case"pointermove":r(t);break;case"pointerup":case"pointerleave":i(t,"touch"===t.pointerType)}}function n(e){"touchmove"===e.type?r(e.touches[0]):i(e.touches[0],!0)}function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(a.click||t)&&(a.mtX=e.clientX/window.innerWidth*100-a.startX,a.mtY=e.clientY/window.innerHeight*100-a.startY,a.sd||(Math.floor(Math.abs(a.mtX))>Math.floor(Math.abs(a.mtY))&&(a.sd="x"),Math.floor(Math.abs(a.mtX))<Math.floor(Math.abs(a.mtY))&&(a.sd="y")),"x"===a.sd?a.mtY=0:a.mtX=0,a.wrapper.style.pointerEvents="none")}function i(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!n||!t){a.sd=null,a.click=!1;var r=Math.abs(a.bx)/100,i=a.slides[r].querySelectorAll(".MLS_slide_column").length?-100*a.slides[r].querySelectorAll(".MLS_slide_column").length+100:0,o=-100*a.slides.length+100;if(a.wrapper.style.transition="",a.slides[r].style.transition="",a.flickingTime&&(new Date).getTime()-a.flickingTime<500)return a.mtX<0&&a.bx!==Math.ceil(o)&&(a.bx+=-100,e(!0)),a.mtX>0&&0!==a.bx&&(a.bx+=100,e(!0)),a.mtY>0&&0!==a.by[r]&&(a.by[r]+=100),a.mtY<0&&a.by[r]!==i&&(a.by[r]+=-100),a.mtX=0,a.mtY=0,a.flickingTime=null,p((function(e){return b(b({},e),{},{c:Math.abs(a.bx)/100})})),_((function(e){var t=(0,u.Z)(e);return t[r]=Math.abs(a.by[r])/100,t})),void(a.wrapper.style.pointerEvents="");var l=!1;a.mtX=Math.max(o-10,Math.min(10,a.bx+a.mtX)),a.mtX>0?(a.bx=0,l=!0):a.mtX<-100*a.slides.length?(a.bx=o,l=!0):(a.bx-a.mtX)%100>=30?(a.bx+=-100,l=!0):(a.bx-a.mtX)%100<=-30&&(a.bx+=100,l=!0),a.mtX=0,a.mtY=Math.max(i-10,Math.min(10,a.by[r]+a.mtY)),a.mtY>0?a.by[r]=0:a.mtY<i?a.by[r]=i:(a.by[r]-a.mtY)%100>=30?a.by[r]+=-100:(a.by[r]-a.mtY)%100<=-30&&(a.by[r]+=100),a.mtY=0,p((function(e){return b(b({},e),{},{c:Math.abs(a.bx)/100})})),_((function(e){var t=(0,u.Z)(e);return t[r]=Math.abs(a.by[r])/100,t})),a.wrapper.style.pointerEvents="",l&&e(!0)}}function o(t){if(!a.inputbreak){var n=-0===t.deltaX?0:t.deltaX,r=-0===t.deltaY?0:t.deltaY;if(n>0&&a.bx!==-100*a.slides.length+100)return S(1),a.inputbreak=!0,void setTimeout((function(){a.inputbreak=!1}),1e3);if(n<0&&0!==a.bx)return S(-1),a.inputbreak=!0,void setTimeout((function(){a.inputbreak=!1}),1e3);var i=Math.abs(a.bx)/100;return r>0&&a.slides[i].querySelectorAll(".MLS_slide_column").length&&a.by[i]!==-100*a.slides[i].querySelectorAll(".MLS_slide_column").length+100?(a.by[i]+=-100,a.inputbreak=!0,setTimeout((function(){a.inputbreak=!1}),1e3),_((function(e){var t=(0,u.Z)(e);return t[i]=Math.abs(a.by[i])/100,t})),void(a.scrollYTimer&&e())):r<0&&0!==a.by[i]?(a.by[i]+=100,a.inputbreak=!0,setTimeout((function(){a.inputbreak=!1}),1e3),_((function(e){var t=(0,u.Z)(e);return t[i]=Math.abs(a.by[i])/100,t})),void(a.scrollYTimer&&e())):void 0}}function c(t){if("ArrowRight"!==t.key||a.bx===-100*a.slides.length+100){if("ArrowLeft"!==t.key||0===a.bx){var n=Math.abs(a.bx)/100;return"ArrowUp"===t.key&&0!==a.by[n]?(a.by[n]+=100,_((function(e){var t=(0,u.Z)(e);return t[n]=Math.abs(a.by[n])/100,t})),void(a.scrollYTimer&&e())):"ArrowDown"===t.key&&a.slides[n].querySelectorAll(".MLS_slide_column").length&&a.by[n]!==-100*a.slides[n].querySelectorAll(".MLS_slide_column").length+100?(a.by[n]+=-100,_((function(e){var t=(0,u.Z)(e);return t[n]=Math.abs(a.by[n])/100,t})),void(a.scrollYTimer&&e())):void 0}S(-1)}else S(1)}return a.wrapper=s.current.querySelector("#MLS_slide_wrapper"),a.slides=a.wrapper.querySelectorAll(".MLS_slide"),a.by=new Array(a.slides.length).fill(0),a.sy=new Array(a.slides.length).fill(0),p((function(e){return b(b({},e),{},{t:a.slides.length-1})})),_(new Array(a.slides.length).fill(0)),document.querySelector("html").dataset.home="true",document.body.dataset.home="true",a.wrapper.addEventListener("pointerdown",t),a.wrapper.addEventListener("touchmove",n),a.wrapper.addEventListener("touchend",n),document.addEventListener("pointermove",t),document.addEventListener("pointerup",t),document.addEventListener("pointerleave",t),document.addEventListener("contextmenu",i),document.addEventListener("keydown",c),document.addEventListener("wheel",o),l&&e(),function e(){if(a.animationId=requestAnimationFrame(e),a.now=Date.now(),a.delta=a.now-a.then,a.delta>a.interval){a.then=a.now-a.delta%a.interval;var t=a.bx+a.mtX;a.sx=a.sx+a.easeSpeed*(t-a.sx),(a.sx>-.001&&a.sx<-0||a.sx<.001&&a.sx>0)&&(a.sx=0),a.wrapper.style.transform="translateX(".concat(a.sx,"%)");var n=Math.abs(a.bx)/100,r=a.by[n]+a.mtY;a.sy.forEach((function(e,t){if((a.sy[t]>-.001&&a.sy[t]<-0||a.sy[t]<.001&&a.sy[t]>0)&&(a.sy[t]=0),n===t)return a.sy[n]=a.sy[n]+a.easeSpeed*(r-a.sy[n]),void(a.slides[n].style.transform="translateY(".concat(a.sy[n],"%)"));a.sy[t]=a.sy[t]+a.easeSpeed*(a.by[t]-a.sy[t]),a.slides[t].style.transform="translateY(".concat(a.sy[t],"%)")}))}}(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(w(window.innerHeight+"px"),a.easeSpeed=.1),function(){a.wrapper.removeEventListener("pointerdown",t),a.wrapper.removeEventListener("touchmove",n),a.wrapper.removeEventListener("touchend",n),document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",t),document.removeEventListener("pointerleave",t),document.removeEventListener("contextmenu",i),document.removeEventListener("keydown",c),document.removeEventListener("wheel",o),document.querySelector("html").removeAttribute("data-home"),document.body.removeAttribute("data-home"),clearInterval(a.scrollYTimer),cancelAnimationFrame(a.animationId)}}),[]),(0,o.useEffect)((function(){n(v)}),[v]),(0,h.jsxs)("main",{ref:s,className:f().slide_container,style:{"--sh":x},children:[(0,h.jsx)("ul",{id:"MLS_slide_wrapper",className:f().slide_wrapper,children:t}),(0,h.jsxs)("nav",{className:f().navigator,style:{"--arror-color":r(m.c)},children:[(0,h.jsx)("button",{hidden:0===m.c,onClick:function(){return S(-1)},children:(0,h.jsx)(d.pjk,{})}),(0,h.jsx)("button",{hidden:m.c===m.t,onClick:function(){return S(1)},children:(0,h.jsx)(d.fmn,{})})]})]})},v=n(64476),_=n.n(v),g=n(7549),x=n(78329),w=n(22004),S=n.n(w),j=n(50835),M=n(25074);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=!0,O=function(e){var t=(0,o.useRef)([]),n=(0,c.useRouter)(),i=(0,o.useState)(!0),u=i[0],d=i[1],m=(0,o.useState)(!0),p=m[0],b=(m[1],(0,o.useState)(null)),v=b[0],w=b[1];(0,o.useEffect)((function(){return sessionStorage.setItem("localization",JSON.stringify(e.localization)),(0,l.b2)()||(localStorage.setItem("isLogin",0),localStorage.setItem("totalCart",0),localStorage.removeItem("profile")),I(localStorage.getItem("currentLangId")||"1"),function(){window.onresize&&(window.onresize=null)}}),[]),(0,o.useEffect)((function(){k()}),[]);var k=function(){try{setTimeout((function(){sessionStorage.getItem("externalId")&&(M.Z.login(sessionStorage.getItem("externalId")),sessionStorage.removeItem("externalId"));var e={language:1==localStorage.getItem("currentLangId")?"en":"kh"};if((0,l.b2)()){var t=JSON.parse(localStorage.getItem("profile")).profile;e=L(L({},e),{phone:(0,l.uy)(t.username)?t.username:"",email:(0,l.Jh)(t.email)?t.email:"",firstname:t.firstname,lastname:t.lastname,birth_month:t.dob.split("-")[2].substr(0,2),gender:null===t.gender?"u":Number(t.gender)?"m":"f",birth_day:t.dob.split("-")[1]})}else M.Z.logout();(0,l.bJ)(e)}),2e3)}catch(e){console.log(e)}},Y=o.useState("1"),O=(0,r.Z)(Y,2),E=O[0],I=O[1],P=o.useState([]),T=(0,r.Z)(P,2),A=T[0],X=T[1],N=o.createRef(null),D=function(){n.replace(n.asPath,void 0,{scroll:!1})},Z=o.useContext(x.k).globalState.dark,C=(0,o.useCallback)((function(e,n){e&&"0px"===getComputedStyle(e.nextSibling).padding&&(requestAnimationFrame((function(){e.nextSibling.style.padding="32px ".concat(Math.max(e.getBoundingClientRect().x-window.innerWidth*n,0)+32,"px")})),t.current.push({ele:e,slide:n}),window.onresize=function(){t.current.forEach((function(e){e.ele.nextSibling.style.padding="32px ".concat(Math.max(e.ele.getBoundingClientRect().x-window.innerWidth*e.slide,0)+32,"px")}))})}),[]),q=(0,o.useCallback)((function(e){e.loaded>.015&&u&&d(!1)}),[]),H=0;return H=window.innerWidth,(0,h.jsxs)(s.Z,L(L({},e),{},{children:[e.home&&Array.isArray(e.home)&&e.home.some((function(e){return"multi_slider"===e.element}))&&(0,h.jsx)(g.M,L({ref:N},e)),e.home&&e.home.some((function(e){return"multi_slider"===e.element}))?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y,{setSci:function(e){return X(e)},autoScroll:Number(e.home[e.home.findIndex((function(e){return"multi_slider"===e.element}))].auto_scroll),arrorColor:function(t){var n;null===(n=e.home[e.home.findIndex((function(e){return"multi_slider"===e.element}))].sections[t][A[t]])||void 0===n||n.styles.color,w(t)},children:e.home[e.home.findIndex((function(e){return"multi_slider"===e.element}))].sections.map((function(e,t){var r;return(0,h.jsxs)("li",{children:[(0,h.jsxs)("ul",{className:"".concat(f().slide," MLS_slide"),children:[e.map((function(e,r){return(0,h.jsx)("li",{className:"".concat(f().slide_column," MLS_slide_column"),children:(0,h.jsx)("div",{className:_().slide_item,onClick:function(){return function(e){"MenuScreen"!==e.screen?n.push("/"+e.href):N.current&&N.current.showDrawer(e.id)}(e)},children:e.video_web?(0,h.jsxs)(o.Fragment,{children:[u&&(0,h.jsx)("img",{src:"".concat(l.De.imagePath).concat(H>800?e.image_web:e.image)}),(0,h.jsx)(S(),{url:"".concat(l.De.imagePath).concat(H>800?e.video_web:e.video),muted:p,volume:1,loop:!0,playing:!u&&v===t&&A[v]===r,playsinline:!0,height:"100vh",width:"100%",style:{display:u&&"none"},onProgress:q})]}):(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)("img",{src:l.De.imagePath+e.image_web,className:_().bg_image,ref:function(e){return C(e,t)}}),(0,h.jsxs)("div",{style:{alignItems:"center"===e.styles.position_x?"center":"right"===e.styles.position_x?"flex-end":"flex-start",justifyContent:"middle"===e.styles.position_y?"center":"bottom"===e.styles.position_y?"flex-end":"flex-start",textAlign:e.styles.position_x},children:[(0,h.jsx)("h1",{style:{color:e.styles.color,fontSize:e.styles.title_font_size+"px"},children:e.title[E]}),(0,h.jsx)("p",{style:{color:e.styles.color,fontSize:e.styles.subtitle_font_size+"px"},children:e.sub_title[E]})]})]})})},r)})),(0,h.jsx)("li",{className:"".concat(f().slide_column," MLS_slide_column"),children:(0,h.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,h.jsx)("div",{style:{flex:1}}),(0,h.jsx)(j.Z,{})]})})]}),A.length&&(0,h.jsx)("div",{className:f().indicatorYSlide,style:{"--bullet-color":(null===(r=e[A[t]])||void 0===r?void 0:r.styles.color)||(Z?"white":"black")},children:new Array(e.length+1).fill("").map((function(e,n){return(0,h.jsx)("span",{role:A[t]===n?"active":""},n)}))})]},t)}))}),(0,h.jsx)(a.Z,L(L({applyLayout:!0,data:e.home.filter((function(e){return e.element.includes("popup")}))},e),{},{isInHomePage:!0,handleWishIcon:D}))]}):(0,h.jsx)(a.Z,L(L({applyLayout:!0,data:e.home},e),{},{isInHomePage:!0,handleWishIcon:D,stickyNav:!0}))]}))}},78581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(78948)}])},49851:function(e){e.exports={slide_container:"MultiLevelSlide_slide_container__3lF69",slide_wrapper:"MultiLevelSlide_slide_wrapper__3RGhc",slide:"MultiLevelSlide_slide__2RqDN",slide_column:"MultiLevelSlide_slide_column__1eDWZ",navigator:"MultiLevelSlide_navigator__3TSyQ",indicatorYSlide:"MultiLevelSlide_indicatorYSlide__d9oNa"}},64476:function(e){e.exports={slide_item:"Home_slide_item__3LCjF",icon:"Home_icon__3QFgh",slide_footer:"Home_slide_footer__1vhKa",linksContainer:"Home_linksContainer__2nk-d",paymentMethod:"Home_paymentMethod__2rnZk",privacyStyle:"Home_privacyStyle__Irpr6",btnVolume:"Home_btnVolume__hMvcK"}}},function(e){e.O(0,[9774,8151,4838,3768,9317,4738,3365,594,1698,4321,4040,1991,8324,2888,179],(function(){return t=78581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);